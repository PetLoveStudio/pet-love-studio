<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>About Us - Pet Love Studio</title>
<link rel="icon" href="images/497663176_703682725367800_1093382578716552799_n.png" type="image/x-icon">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="styles/general.css">

<style>
  body { font-family: 'Roboto', sans-serif; }
  .custom-navbar { background: orange; }
  .custom-footer { background: orange; color: #212529; }
  .auth-buttons .btn { --bs-btn-padding-y: .25rem; --bs-btn-padding-x: .6rem; }

  .hero4 { background: url('images/about.jpg') center/cover no-repeat; min-height: 40vh; max-height: 80vh; position: relative; color: #fff; }
  .hero4::before { content:""; position:absolute; inset:0; background: rgba(0,0,0,0.5); }
  .hero-content { position: relative; z-index: 1; }
</style>
</head>
<body>

   <!-- NAVBAR (matches Contact page style) -->
  <nav class="navbar navbar-expand-lg navbar-dark custom-navbar sticky-top">
    <div class="container">
      <a style="font-size: 15px;" class="navbar-brand d-flex align-items-center" href="index.html">
        <img  src="images/497663176_703682725367800_1093382578716552799_n.png" alt="Logo" width="50" height="50" class="me-2">
        Pet Love Studio
      </a>

      <!-- Social icons (same as Contact page) -->
      <a style class="navbar-brand d-flex align-items-center" href="https://www.instagram.com/pet_love_studio/" target="_blank" rel="noopener">
        <img  src="images/instagram-new--v2.png" alt="insta" width="25" height="25" class="me-2">
      </a>
      <a class="navbar-brand d-flex align-items-center" href="https://www.facebook.com/profile.php?id=61576540510268" target="_blank" rel="noopener">
        <img style="margin-bottom: 1px;" src="images/Facebook-icon-white-PNG-large-size.png" alt="fb" width="21" height="21" class="me-2">
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <!-- Links (right aligned, same order as Contact) -->
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="grooming.html">Book Grooming Appointment</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact Us</a></li>
          <li class="nav-item"><a class="nav-link active" href="about.html">About</a></li>
        </ul>

        <!-- Auth buttons / account (kept minimal, same color family) -->
        <ul class="navbar-nav auth-buttons d-flex flex-row gap-2 ms-lg-3 mt-2 mt-lg-0">
          <!-- Logged OUT -->
          <li class="nav-item" id="btn-show-login">
            <button class="btn btn-outline-light btn-sm" data-bs-toggle="modal" data-bs-target="#loginModal">Log in</button>
          </li>
          <li class="nav-item" id="btn-show-signup">
            <button class="btn btn-light text-dark btn-sm" data-bs-toggle="modal" data-bs-target="#signupModal">Sign up</button>
          </li>

          <!-- Logged IN -->
          <li class="nav-item dropdown d-none" id="user-dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" id="user-email">Account</a>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a class="dropdown-item" href="my-account.html">My Account</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><button class="dropdown-item" id="btn-logout">Log out</button></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Admin Panel link (hidden by default) -->
  <div id="admin-section" class="container my-5 d-none">
    <div class="alert alert-dark">
      <h4 class="alert-heading">ðŸ”‘ Admin Access</h4>
      <p>You are logged in as the administrator.</p>
      <a href="admin.html" class="btn btn-dark">Go to Admin Dashboard</a>
    </div>
  </div>

<!-- Hero Section -->
<section class="hero4 d-flex align-items-center justify-content-center text-center">
    <div class="hero-content text-white">
        <h1>About our Pet Shop</h1>
        <p>Who are we ?</p>
    </div>
</section>

<!-- About Content -->
<section class="container my-5">
    <div class="row align-items-center">
        <div class="col-md-6 mb-4">
            <img src="images/497663176_703682725367800_1093382578716552799_n.png"  class="img-fluid rounded shadow" alt="Our Pet Shop">
        </div>
        <div class="col-md-6">
            <h2>Our Story</h2>
            <p>Pet Love Studio was founded with a passion for caring for pets. We provide top-quality grooming services, premium pet products, and a friendly environment for pets and their owners. Our goal is to make every visit a happy and safe experience for your furry friends.</p>
            <p>Our team consists of experienced professionals who love pets and understand their needs. Whether it's grooming, bathing, or simply providing advice on pet care, we are here to help your pet look and feel their best.</p>
        </div>
    </div>
</section>

<!-- Additional Images / Staff -->
<section class="container my-5">
    <h2 class="text-center mb-4">Meet Our Team</h2>
    <div class="row justify-content-center text-center">
        <div class="col-md-6 mb-4">
            <img src="images/neni.png" class="img-fluid rounded-circle mb-2" style="width:200px; height:200px; object-fit:cover;" alt="Staff Member">
            <h5>Eleni</h5>
            <p>Grooming / Management</p>
        </div>

        <div class="col-md-6 mb-4">
            <img src="images/nikolas.jpg" 
            class="img-fluid rounded-circle mb-2" 
            style="width:200px; height:200px; object-fit:cover; object-position:center 20%;" 
            alt="Staff Member">
            <h5>Nikolas</h5>
            <p>Store Manager</p>
        </div>

    </div>
</section>

<!-- Footer -->
<footer class="custom-footer text-center py-3">
  Made and designed by TEAM 10 - UCY - EPL343 - WINTER SEMESTER 2025 Â©
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Firebase Auth + Firestore (full name in navbar + admin banner) -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
  import {
    getAuth, onAuthStateChanged,
    createUserWithEmailAndPassword, signInWithEmailAndPassword,
    sendPasswordResetEmail, signOut
  } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
  import {
    getFirestore, doc, getDoc
  } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyD3Tcp0-6bKPCaLLCA-A9yiYDpWiZa_9wU",
    authDomain: "pet-love-studio.firebaseapp.com",
    projectId: "pet-love-studio",
    storageBucket: "pet-love-studio.firebasestorage.app",
    messagingSenderId: "719122537267",
    appId: "1:719122537267:web:f47830925e1ea970e17c46"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db   = getFirestore(app);

  // Navbar refs
  const btnShowLogin  = document.getElementById('btn-show-login');
  const btnShowSignup = document.getElementById('btn-show-signup');
  const userDropdown  = document.getElementById('user-dropdown');
  const userEmailLink = document.getElementById('user-email');
  const adminSection  = document.getElementById('admin-section');
  const adminMenuLink = document.getElementById('admin-menu-link');
  const OWNER_EMAIL   = "marikonkouma@gmail.com";

  function setNavbarAccountLabel(profile, fallbackEmail) {
    const fullName = [profile?.firstName, profile?.lastName].filter(Boolean).join(" ").trim();
    userEmailLink.textContent = fullName || fallbackEmail || "Account";
  }

  onAuthStateChanged(auth, async (user) => {
    if (user) {
      // default to email immediately
      btnShowLogin.classList.add('d-none');
      btnShowSignup.classList.add('d-none');
      userDropdown.classList.remove('d-none');
      setNavbarAccountLabel({}, user.email);

      const isOwner = user.email === OWNER_EMAIL;
      adminSection.classList.toggle('d-none', !isOwner);
      if (adminMenuLink) adminMenuLink.classList.toggle('d-none', !isOwner);

      // then try to load profile for full name
      try {
        const snap = await getDoc(doc(db, "users", user.uid));
        const data = snap.exists() ? snap.data() : {};
        const profile = data.profile || {};
        setNavbarAccountLabel(profile, user.email);
      } catch (err) {
        console.error(err);
      }
    } else {
      btnShowLogin.classList.remove('d-none');
      btnShowSignup.classList.remove('d-none');
      userDropdown.classList.add('d-none');
      adminSection.classList.add("d-none");
    }
  });

  // Minimal auth modal handlers (same pattern as other pages)
  document.getElementById('signup-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('signup-email').value.trim();
    const password = document.getElementById('signup-password').value;
    try {
      await createUserWithEmailAndPassword(auth, email, password);
      bootstrap.Modal.getInstance(document.getElementById('signupModal')).hide();
    } catch (err) { alert(err.message); }
  });

  document.getElementById('login-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('login-email').value.trim();
    const password = document.getElementById('login-password').value;
    try {
      await signInWithEmailAndPassword(auth, email, password);
      bootstrap.Modal.getInstance(document.getElementById('loginModal')).hide();
    } catch (err) { alert(err.message); }
  });

  document.getElementById('link-reset')?.addEventListener('click', async (e) => {
    e.preventDefault();
    const email = document.getElementById('login-email').value.trim();
    if (!email) return alert("Enter your email first.");
    try { await sendPasswordResetEmail(auth, email); alert("Password reset sent."); }
    catch (err) { alert(err.message); }
  });

  document.getElementById('btn-logout')?.addEventListener('click', async () => {
    try { await signOut(auth); } catch (err) { alert(err.message); }
  });
</script>

<!-- ===== Modals (Auth) ===== -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" id="login-form">
      <div class="modal-header">
        <h5 class="modal-title">Log in</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <input type="email" class="form-control mb-3" id="login-email" placeholder="Email" required>
        <input type="password" class="form-control" id="login-password" placeholder="Password" required>
        <div class="form-text mt-2">Forgot password? <a href="#" id="link-reset">Reset here</a></div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-dark" type="submit">Log in</button>
      </div>
    </form>
  </div>
</div>

<div class="modal fade" id="signupModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" id="signup-form">
      <div class="modal-header">
        <h5 class="modal-title">Create account</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <input type="email" class="form-control mb-3" id="signup-email" placeholder="Email" required>
        <input type="password" class="form-control" id="signup-password" placeholder="Password (min 6 chars)" minlength="6" required>
      </div>
      <div class="modal-footer">
        <button class="btn btn-dark" type="submit">Sign up</button>
      </div>
    </form>
  </div>
</div>

</body>
</html>
